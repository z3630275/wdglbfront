var Dml={};function refresh_captcha(r){return $.get("/captcha/refresh/?"+Math.random(),function(e){$("#"+r.data.form_id+" .captcha").attr("src",e.image_url),$("#id_captcha_0").attr("value",e.key)}),!1}function login_form_submit(){return verify=verifyDialogSubmit([{id:"#account_l",tips:Dml.Msg.epUserName,errorTips:Dml.Msg.erUserName,regName:"phMail",require:!0,minlength:6},{id:"#password_l",tips:Dml.Msg.epPwd,errorTips:Dml.Msg.erPwd,regName:"pwd",require:!0},{id:"#id_captcha_1",tips:Dml.Msg.epVerifyCode,errorTips:Dml.Msg.erVerifyCode,regName:"verifyCode",require:!0}]),verify}function verifyDialogSubmit(e){for(var r=0,a=e.length,t=!0;r<a;r++){var i=e[r];if(!(t=validate(i,$(i.id))))return t}return t}function validate(e,r){var a=e.tips,t=e.errorTips,i=e.regName,d=e.require,s=e.minlength,o=$.trim(r.val());return d&&!o?Dml.fun.showValidateError(r,a):i&&!Dml.regExp[i].test(o)?Dml.fun.showValidateError(r,t):null!=s&&o.length<=s?Dml.fun.showValidateError(r,"输入长度需大于"+s+"位"):null!=strlength&&o.length!=strlength?Dml.fun.showValidateError(r,"输入长度必须为"+strlength+"位"):null!=repwd&&o!=$(repwd).val()?Dml.fun.showValidateError(r,Dml.Msg.erRePwd):(r.parent().removeClass("errorput"),r.parent().siblings(".error").hide(),!0)}Dml.fun={showValidateError:function(e,r){var a=arguments[2]||"";return e.focus(),setTimeout(function(){e.parent().addClass("errorput"),a?a.html(r).show():e.parent().siblings(".error").html(r).show()},10),!1}},Dml.regExp={phone:/^1([38]\d|4[57]|5[0-35-9]|7[06-8]|8[89])\d{8}$/,tel:/(^1([38]\d|4[57]|5[0-35-9]|7[06-8]|8[89])\d{8}$)|(^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,phMail:/(^1([38]\d|4[57]|5[0-35-9]|7[06-8]|8[89])\d{8}$)|(^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+)/,number:/^[0-9]*$/,float:/^\d+(\.\d+)?$/,zsNumber:/^(-?[1-9]\d*|0)$/,name:/^[\u4e00-\u9fa5a-zA-Z]+$/,pwd:/^([^\u4e00-\u9fa5]{6,20})$/,verifyCode:/^[a-zA-Z]{4}$/,phoneCode:/^\d{6}$/,emailCode:/^\d{4}$/,rsiName:/^[\u4e00-\u9fa5\-a-zA-Z0-9]{2,30}$/,idCard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/},Dml.Msg={epUserName:"请输入登录手机或邮箱！",erUserName:"请输入正确的登录手机或邮箱！",epPhone:"请输入您的手机号码！",erPhone:"请输入正确的手机号码！",epTel:"请输入您的电话号码！",erTel:"请输入正确的电话号码，固定电话：区号-号码！",epVerifyCode:"请输入验证码！",erVerifyCode:"请输入正确的验证码！",epMail:"请输入您的邮箱！",erMail:"请输入正确的邮箱！",epPwd:"请输入登录密码！",erPwd:"密码为6-20位非中文字符！",epResetPwd:"请输入密码！",erResetPwd:"密码为6-20位非中文字符！",epRePwd:"请重复输入密码！",erRePwd:"两次密码输入不一致！",epPhCode:"请输入手机验证码！",erPhCode:"请输入正确的手机验证码！",epEmCode:"请输入邮箱验证码！",erEmCode:"请输入正确的邮箱验证码！",epName:"请输入您的姓名！",epNickName:"请输入昵称！"},$("#login_form .captcha").click({form_id:"login_form"},refresh_captcha),$("#jsLoginBtn").on("click",function(){return login_form_submit()}),$("input[type=text]").focus(function(){$(this).parent().removeClass("blur").addClass("focus")}),$("input[type=text]").blur(function(){$(this).parent().removeClass("focus").addClass("blur")}),$("input[type=password]").focus(function(){$(this).parent().removeClass("blur").addClass("focus")}),$("input[type=password]").blur(function(){$(this).parent().removeClass("focus").addClass("blur")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbIkRtbCIsInJlZnJlc2hfY2FwdGNoYSIsImV2ZW50IiwiJCIsImdldCIsIk1hdGgiLCJyYW5kb20iLCJyZXN1bHQiLCJkYXRhIiwiZm9ybV9pZCIsImF0dHIiLCJpbWFnZV91cmwiLCJrZXkiLCJsb2dpbl9mb3JtX3N1Ym1pdCIsInZlcmlmeSIsInZlcmlmeURpYWxvZ1N1Ym1pdCIsImlkIiwidGlwcyIsIk1zZyIsImVwVXNlck5hbWUiLCJlcnJvclRpcHMiLCJlclVzZXJOYW1lIiwicmVnTmFtZSIsInJlcXVpcmUiLCJtaW5sZW5ndGgiLCJlcFB3ZCIsImVyUHdkIiwiZXBWZXJpZnlDb2RlIiwiZXJWZXJpZnlDb2RlIiwiYXJyYXkiLCJpIiwibGVuZ3RoIiwidmFsaWRhdGEiLCJvYmoiLCJ2YWxpZGF0ZSIsIl90aGlzIiwidmFsdWUiLCJ0cmltIiwidmFsIiwiZnVuIiwic2hvd1ZhbGlkYXRlRXJyb3IiLCJyZWdFeHAiLCJ0ZXN0IiwidW5kZWZpbmVkIiwic3RybGVuZ3RoIiwicmVwd2QiLCJlclJlUHdkIiwicGFyZW50IiwicmVtb3ZlQ2xhc3MiLCJzaWJsaW5ncyIsImhpZGUiLCIkZWxlbSIsIiR0aXBzIiwiYXJndW1lbnRzIiwiZm9jdXMiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJodG1sIiwic2hvdyIsInBob25lIiwidGVsIiwiZW1haWwiLCJwaE1haWwiLCJudW1iZXIiLCJmbG9hdCIsInpzTnVtYmVyIiwibmFtZSIsInB3ZCIsInZlcmlmeUNvZGUiLCJwaG9uZUNvZGUiLCJlbWFpbENvZGUiLCJyc2lOYW1lIiwiaWRDYXJkIiwiZXBQaG9uZSIsImVyUGhvbmUiLCJlcFRlbCIsImVyVGVsIiwiZXBNYWlsIiwiZXJNYWlsIiwiZXBSZXNldFB3ZCIsImVyUmVzZXRQd2QiLCJlcFJlUHdkIiwiZXBQaENvZGUiLCJlclBoQ29kZSIsImVwRW1Db2RlIiwiZXJFbUNvZGUiLCJlcE5hbWUiLCJlcE5pY2tOYW1lIiwi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TUFBTyxhQUNQQyxNQUFPLHlCQUNQakQsYUFBYyxVQUNkQyxhQUFjLGFBQ2RpRCxPQUFRLFdBQ1JDLE9BQVEsWUFDUnJELE1BQU8sV0FDUEMsTUFBTyxpQkFDUHFELFdBQVksU0FDWkMsV0FBWSxpQkFDWkMsUUFBUyxXQUNUbkMsUUFBUyxhQUNUb0MsU0FBVSxZQUNWQyxTQUFVLGVBQ1ZDLFNBQVUsWUFDVkMsU0FBVSxlQUNWQyxPQUFRLFdBQ1JDLFdBQVksVUFjaEJwRixFQUFFLHdCQUF3QnFGLE1BQU0sQ0FBQy9FLFFBQVcsY0FBZVIsaUJBRzNERSxFQUFFLGVBQWVzRixHQUFHLFFBQVMsV0FDekIsT0FBTzVFLHNCQTJGWFYsRUFBRSxvQkFBb0JtRCxNQUFNLFdBQ3hCbkQsRUFBRXVGLE1BQU0zQyxTQUFTQyxZQUFZLFFBQVFRLFNBQVMsV0FFbERyRCxFQUFFLG9CQUFvQndGLEtBQUssV0FDdkJ4RixFQUFFdUYsTUFBTTNDLFNBQVNDLFlBQVksU0FBU1EsU0FBUyxVQUduRHJELEVBQUUsd0JBQXdCbUQsTUFBTSxXQUM1Qm5ELEVBQUV1RixNQUFNM0MsU0FBU0MsWUFBWSxRQUFRUSxTQUFTLFdBRWxEckQsRUFBRSx3QkFBd0J3RixLQUFLLFdBQzNCeEYsRUFBRXVGLE1BQU0zQyxTQUFTQyxZQUFZLFNBQVNRLFNBQVMiLCJmaWxlIjoibG9naW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIERtbCA9IHt9O1xyXG5EbWwuZnVuID0ge1xyXG4gICAgc2hvd1ZhbGlkYXRlRXJyb3I6IGZ1bmN0aW9uICgkZWxlbSwgdGlwcykge1xyXG4gICAgICAgIHZhciAkdGlwcyA9IGFyZ3VtZW50c1syXSB8fCAnJztcclxuICAgICAgICAkZWxlbS5mb2N1cygpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkZWxlbS5wYXJlbnQoKS5hZGRDbGFzcygnZXJyb3JwdXQnKTtcclxuICAgICAgICAgICAgaWYgKCR0aXBzKSB7XHJcbiAgICAgICAgICAgICAgICAkdGlwcy5odG1sKHRpcHMpLnNob3coKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkZWxlbS5wYXJlbnQoKS5zaWJsaW5ncygnLmVycm9yJykuaHRtbCh0aXBzKS5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG59O1xyXG5EbWwucmVnRXhwID0ge1xyXG4gICAgcGhvbmU6IC9eMShbMzhdXFxkfDRbNTddfDVbMC0zNS05XXw3WzA2LThdfDhbODldKVxcZHs4fSQvLFxyXG4gICAgdGVsOiAvKF4xKFszOF1cXGR8NFs1N118NVswLTM1LTldfDdbMDYtOF18OFs4OV0pXFxkezh9JCl8KF4oKFxcZHs3LDh9KXwoXFxkezR9fFxcZHszfSktKFxcZHs3LDh9KXwoXFxkezR9fFxcZHszfSktKFxcZHs3LDh9KS0oXFxkezR9fFxcZHszfXxcXGR7Mn18XFxkezF9KXwoXFxkezcsOH0pLShcXGR7NH18XFxkezN9fFxcZHsyfXxcXGR7MX0pKSQpLyxcclxuICAgIGVtYWlsOiAvXihbYS16QS1aMC05Xy1dKStAKFthLXpBLVowLTlfLV0pKyguW2EtekEtWjAtOV8tXSkrLyxcclxuICAgIHBoTWFpbDogLyheMShbMzhdXFxkfDRbNTddfDVbMC0zNS05XXw3WzA2LThdfDhbODldKVxcZHs4fSQpfCheKFthLXpBLVowLTlfLV0pK0AoW2EtekEtWjAtOV8tXSkrKC5bYS16QS1aMC05Xy1dKSspLyxcclxuICAgIG51bWJlcjogL15bMC05XSokLyxcclxuICAgIGZsb2F0OiAvXlxcZCsoXFwuXFxkKyk/JC8sXHJcbiAgICB6c051bWJlcjogL14oLT9bMS05XVxcZCp8MCkkLyxcclxuICAgIG5hbWU6IC9eW1xcdTRlMDAtXFx1OWZhNWEtekEtWl0rJC8sXHJcbiAgICBwd2Q6IC9eKFteXFx1NGUwMC1cXHU5ZmE1XXs2LDIwfSkkLyxcclxuICAgIHZlcmlmeUNvZGU6IC9eW2EtekEtWl17NH0kLyxcclxuICAgIHBob25lQ29kZTogL15cXGR7Nn0kLyxcclxuICAgIGVtYWlsQ29kZTogL15cXGR7NH0kLyxcclxuICAgIHJzaU5hbWU6IC9eW1xcdTRlMDAtXFx1OWZhNVxcLWEtekEtWjAtOV17MiwzMH0kLyxcclxuICAgIC8vcnNpTmFtZTogL14oW1xcdTRlMDAtXFx1OWZhNV0pKFtcXHU0ZTAwLVxcdTlmYTVhLXpBLVowLTldKykkLyxcclxuICAgIGlkQ2FyZDogLyheXFxkezE1fSQpfCheXFxkezE4fSQpfCheXFxkezE3fShcXGR8WHx4KSQpL1xyXG59O1xyXG5EbWwuTXNnID0ge1xyXG4gICAgZXBVc2VyTmFtZTogJ+ivt+i+k+WFpeeZu+W9leaJi+acuuaIlumCrueuse+8gScsXHJcbiAgICBlclVzZXJOYW1lOiAn6K+36L6T5YWl5q2j56Gu55qE55m75b2V5omL5py65oiW6YKu566x77yBJyxcclxuICAgIGVwUGhvbmU6ICfor7fovpPlhaXmgqjnmoTmiYvmnLrlj7fnoIHvvIEnLFxyXG4gICAgZXJQaG9uZTogJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+egge+8gScsXHJcbiAgICBlcFRlbDogJ+ivt+i+k+WFpeaCqOeahOeUteivneWPt+egge+8gScsXHJcbiAgICBlclRlbDogJ+ivt+i+k+WFpeato+ehrueahOeUteivneWPt+egge+8jOWbuuWumueUteivne+8muWMuuWPty3lj7fnoIHvvIEnLFxyXG4gICAgZXBWZXJpZnlDb2RlOiAn6K+36L6T5YWl6aqM6K+B56CB77yBJyxcclxuICAgIGVyVmVyaWZ5Q29kZTogJ+ivt+i+k+WFpeato+ehrueahOmqjOivgeegge+8gScsXHJcbiAgICBlcE1haWw6ICfor7fovpPlhaXmgqjnmoTpgq7nrrHvvIEnLFxyXG4gICAgZXJNYWlsOiAn6K+36L6T5YWl5q2j56Gu55qE6YKu566x77yBJyxcclxuICAgIGVwUHdkOiAn6K+36L6T5YWl55m75b2V5a+G56CB77yBJyxcclxuICAgIGVyUHdkOiAn5a+G56CB5Li6Ni0yMOS9jemdnuS4reaWh+Wtl+espu+8gScsXHJcbiAgICBlcFJlc2V0UHdkOiAn6K+36L6T5YWl5a+G56CB77yBJyxcclxuICAgIGVyUmVzZXRQd2Q6ICflr4bnoIHkuLo2LTIw5L2N6Z2e5Lit5paH5a2X56ym77yBJyxcclxuICAgIGVwUmVQd2Q6ICfor7fph43lpI3ovpPlhaXlr4bnoIHvvIEnLFxyXG4gICAgZXJSZVB3ZDogJ+S4pOasoeWvhueggei+k+WFpeS4jeS4gOiHtO+8gScsXHJcbiAgICBlcFBoQ29kZTogJ+ivt+i+k+WFpeaJi+acuumqjOivgeegge+8gScsXHJcbiAgICBlclBoQ29kZTogJ+ivt+i+k+WFpeato+ehrueahOaJi+acuumqjOivgeegge+8gScsXHJcbiAgICBlcEVtQ29kZTogJ+ivt+i+k+WFpemCrueusemqjOivgeegge+8gScsXHJcbiAgICBlckVtQ29kZTogJ+ivt+i+k+WFpeato+ehrueahOmCrueusemqjOivgeegge+8gScsXHJcbiAgICBlcE5hbWU6ICfor7fovpPlhaXmgqjnmoTlp5PlkI3vvIEnLFxyXG4gICAgZXBOaWNrTmFtZTogJ+ivt+i+k+WFpeaYteensO+8gScsXHJcbn07XHJcblxyXG5cclxuLy/liLfmlrDpqozor4HnoIFcclxuZnVuY3Rpb24gcmVmcmVzaF9jYXB0Y2hhKGV2ZW50KSB7XHJcbiAgICAkLmdldChcIi9jYXB0Y2hhL3JlZnJlc2gvP1wiICsgTWF0aC5yYW5kb20oKSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICQoJyMnICsgZXZlbnQuZGF0YS5mb3JtX2lkICsgJyAuY2FwdGNoYScpLmF0dHIoXCJzcmNcIiwgcmVzdWx0LmltYWdlX3VybCk7XHJcbiAgICAgICAgJCgnI2lkX2NhcHRjaGFfMCcpLmF0dHIoXCJ2YWx1ZVwiLCByZXN1bHQua2V5KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5cclxuJCgnI2xvZ2luX2Zvcm0gLmNhcHRjaGEnKS5jbGljayh7J2Zvcm1faWQnOiAnbG9naW5fZm9ybSd9LCByZWZyZXNoX2NhcHRjaGEpO1xyXG5cclxuLy/nmbvlvZVcclxuJCgnI2pzTG9naW5CdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbG9naW5fZm9ybV9zdWJtaXQoKTtcclxufSk7XHJcblxyXG4vL+eZu+W9leihqOWNleaPkOS6pFxyXG5mdW5jdGlvbiBsb2dpbl9mb3JtX3N1Ym1pdCgpIHtcclxuXHJcbiAgICB2ZXJpZnkgPSB2ZXJpZnlEaWFsb2dTdWJtaXQoXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJyNhY2NvdW50X2wnLFxyXG4gICAgICAgICAgICAgICAgdGlwczogRG1sLk1zZy5lcFVzZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JUaXBzOiBEbWwuTXNnLmVyVXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICByZWdOYW1lOiAncGhNYWlsJyxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtaW5sZW5ndGg6NixcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtpZDogJyNwYXNzd29yZF9sJywgdGlwczogRG1sLk1zZy5lcFB3ZCwgZXJyb3JUaXBzOiBEbWwuTXNnLmVyUHdkLCByZWdOYW1lOiAncHdkJywgcmVxdWlyZTogdHJ1ZX0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAnI2lkX2NhcHRjaGFfMScsXHJcbiAgICAgICAgICAgICAgICB0aXBzOiBEbWwuTXNnLmVwVmVyaWZ5Q29kZSxcclxuICAgICAgICAgICAgICAgIGVycm9yVGlwczogRG1sLk1zZy5lclZlcmlmeUNvZGUsXHJcbiAgICAgICAgICAgICAgICByZWdOYW1lOiAndmVyaWZ5Q29kZScsXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgXVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gdmVyaWZ5O1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHZlcmlmeURpYWxvZ1N1Ym1pdChhcnJheSkge1xyXG4gICAgdmFyIGkgPSAwLFxyXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcclxuICAgICAgICB2YWxpZGF0YSA9IHRydWU7XHJcbiAgICBmb3IgKGk7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBvYmogPSBhcnJheVtpXSxcclxuICAgICAgICAgICAgX3RoaXMgPSAkKG9iai5pZCk7XHJcbiAgICAgICAgdmFsaWRhdGEgPSB2YWxpZGF0ZShvYmosIF90aGlzKTtcclxuICAgICAgICBpZiAoIXZhbGlkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbGlkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZShvYmosIF90aGlzKSB7XHJcbiAgICB2YXIgdGlwcyA9IG9iai50aXBzLFxyXG4gICAgICAgIGVycm9yVGlwcyA9IG9iai5lcnJvclRpcHMsXHJcbiAgICAgICAgcmVnTmFtZSA9IG9iai5yZWdOYW1lLFxyXG4gICAgICAgIHJlcXVpcmUgPSBvYmoucmVxdWlyZSxcclxuICAgICAgICBtaW5sZW5ndGggPSBvYmoubWlubGVuZ3RoLFxyXG5cclxuICAgICAgICB2YWx1ZSA9ICQudHJpbShfdGhpcy52YWwoKSk7XHJcbiAgICAvL+S4uuepuumqjOivgVxyXG4gICAgaWYgKHJlcXVpcmUgJiYgIXZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIERtbC5mdW4uc2hvd1ZhbGlkYXRlRXJyb3IoX3RoaXMsIHRpcHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAocmVnTmFtZSAmJiAhRG1sLnJlZ0V4cFtyZWdOYW1lXS50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gRG1sLmZ1bi5zaG93VmFsaWRhdGVFcnJvcihfdGhpcywgZXJyb3JUaXBzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5pyA5bCP6ZW/5bqmXHJcbiAgICAgICAgaWYgKG1pbmxlbmd0aCAhPSB1bmRlZmluZWQgJiYgdmFsdWUubGVuZ3RoIDw9IG1pbmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRG1sLmZ1bi5zaG93VmFsaWRhdGVFcnJvcihfdGhpcywgJ+i+k+WFpemVv+W6pumcgOWkp+S6jicgKyBtaW5sZW5ndGggKyAn5L2NJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy/plb/luqZcclxuICAgICAgICBpZiAoc3RybGVuZ3RoICE9IHVuZGVmaW5lZCAmJiB2YWx1ZS5sZW5ndGggIT0gc3RybGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEbWwuZnVuLnNob3dWYWxpZGF0ZUVycm9yKF90aGlzLCAn6L6T5YWl6ZW/5bqm5b+F6aG75Li6JyArIHN0cmxlbmd0aCArICfkvY0nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL+mHjeWkjeWvhueggeagoemqjFxyXG4gICAgICAgIGlmIChyZXB3ZCAhPSB1bmRlZmluZWQgJiYgdmFsdWUgIT0gJChyZXB3ZCkudmFsKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERtbC5mdW4uc2hvd1ZhbGlkYXRlRXJyb3IoX3RoaXMsIERtbC5Nc2cuZXJSZVB3ZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIF90aGlzLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdlcnJvcnB1dCcpO1xyXG4gICAgX3RoaXMucGFyZW50KCkuc2libGluZ3MoJy5lcnJvcicpLmhpZGUoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5cclxuLy9pbnB1dOeahGZvY3Vz5ZKMYmx1cuaViOaenFxyXG4kKCdpbnB1dFt0eXBlPXRleHRdJykuZm9jdXMoZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnYmx1cicpLmFkZENsYXNzKCdmb2N1cycpO1xyXG59KTtcclxuJCgnaW5wdXRbdHlwZT10ZXh0XScpLmJsdXIoZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnZm9jdXMnKS5hZGRDbGFzcygnYmx1cicpO1xyXG59KTtcclxuLy9pbnB1dOeahGZvY3Vz5ZKMYmx1cuaViOaenFxyXG4kKCdpbnB1dFt0eXBlPXBhc3N3b3JkXScpLmZvY3VzKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2JsdXInKS5hZGRDbGFzcygnZm9jdXMnKTtcclxufSk7XHJcbiQoJ2lucHV0W3R5cGU9cGFzc3dvcmRdJykuYmx1cihmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmb2N1cycpLmFkZENsYXNzKCdibHVyJyk7XHJcbn0pO1xyXG5cclxuIl19
